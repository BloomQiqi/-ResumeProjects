{"version":3,"sources":["assets\\Script\\ThirdPage\\tipPhoto.js"],"names":["cc","Class","Component","properties","prefab","type","Prefab","upFlag","Boolean","visible","posX","Integer","posY","tipKnowledgePopUpHuanDongCiShu","tooltip","tipKnowledgePopUpHuanDongTime","onStart","popupPage","log","node1","instantiate","node","parent","addChild","scale","x","y","scaleTo","easing","easeBounceOut","runAction","find","pauseSystemEvents","on","event","destroy","resumeSystemEvents","popupPage2","button","getComponent","Button","interactable","count","schedule","scheduleOnce","scaleTo1","scaleTo2"],"mappings":"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","sourceRoot":"/","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        prefab:{\r\n            default:null,\r\n            type:cc.Prefab,\r\n        },\r\n        upFlag:{\r\n            default:false,\r\n            type:cc.Boolean,\r\n            visible:false\r\n        },\r\n        posX:{\r\n            default:0,\r\n            type:cc.Integer,\r\n        },\r\n        posY:{\r\n            default:0,\r\n            type:cc.Integer,\r\n        },\r\n        tipKnowledgePopUpHuanDongCiShu:{\r\n            default:10,\r\n            type:cc.Integer,\r\n            tooltip:\"知识弹出按钮，缓动的次数，初始为5\",\r\n        },\r\n\r\n        tipKnowledgePopUpHuanDongTime:{\r\n            default:0.3,\r\n            tooltip:\"每次一缓动的时间，初始0.3秒\"\r\n        },\r\n    },\r\n    // LIFE-CYCLE CALLBACKS:\r\n     onStart () {\r\n          //this.parent1 = cc.find(\"Canvas/background/blockLayoutParent\").node.getComponent(\"Initate\");\r\n     },\r\n\r\n    //  点击暂停按钮\r\n    popupPage:function(){\r\n        //cc.log(1);\r\n\r\n\r\n        if(this.upFlag)  //已经弹出了一个\r\n        {\r\n            return;\r\n        }\r\n\r\n        this.upFlag = true;\r\n        cc.log(\"生成了一个\");\r\n        let node1 = cc.instantiate(this.prefab);\r\n        this.node.parent.addChild(node1);\r\n        node1.scale = 0;\r\n        //360.457,649.87\r\n        node1.x = this.posX;\r\n        node1.y = this.posY;\r\n        cc.log(node1.x+'  '+node1.y);\r\n      //node.scale = 1;\r\n        let scaleTo = cc.scaleTo(0.1,1).easing(cc.easeBounceOut());\r\n        node1.runAction(scaleTo);\r\n        \r\n        cc.find(\"Canvas\").pauseSystemEvents(true);\r\n        node1.on(\"touchstart\",event=>{    \r\n            this.upFlag = false;\r\n            cc.log(\"销毁了一个\");\r\n            node1.destroy();\r\n            cc.find(\"Canvas\").resumeSystemEvents(true);\r\n        },this);\r\n    },\r\n    popupPage2:function(){    //此弹出函数为 扣生命值后强制弹出专用\r\n       //cc.log(1);\r\n       //cc.log(\"This.Parent\"+this.parent);\r\n\r\n        if(this.upFlag)  //已经弹出了一个\r\n        {\r\n            return;\r\n        }\r\n\r\n        var button = this.node.getComponent(cc.Button);\r\n        button.interactable = true;//设置popUp按钮交互性\r\n\r\n        this.upFlag = true;\r\n        //cc.log(\"生成了一个\");\r\n        let node1 = cc.instantiate(this.prefab);\r\n        this.node.parent.addChild(node1);\r\n        node1.scale = 0;\r\n        //360.457,649.87\r\n        node1.x = this.posX;\r\n        node1.y = this.posY;\r\n        //cc.log(node1.x+'  '+node1.y);\r\n        //node.scale = 1;\r\n        let scaleTo = cc.scaleTo(0.1,1).easing(cc.easeBounceOut());\r\n        node1.runAction(scaleTo);\r\n        \r\n\r\n        cc.find(\"Canvas\").pauseSystemEvents(true);\r\n        node1.on(\"touchstart\",event=>{    \r\n            this.upFlag = false;\r\n            cc.log(\"销毁了一个\");\r\n            node1.destroy();\r\n            cc.find(\"Canvas\").resumeSystemEvents(true);\r\n\r\n            this.node.scale = 1;\r\n            var count = 0;\r\n            this.schedule(function(){\r\n                count++;\r\n                this.scheduleOnce(function(){   //放大\r\n                    let scaleTo1 = cc.scaleTo(this.tipKnowledgePopUpHuanDongTime,1.2).easing(cc.easeBounceOut());\r\n                    this.node.runAction(scaleTo1);\r\n                },0)\r\n\r\n                this.scheduleOnce(function(){   //缩小\r\n                    let scaleTo2 = cc.scaleTo(this.tipKnowledgePopUpHuanDongTime,1).easing(cc.easeBounceOut());\r\n                    this.node.runAction(scaleTo2);\r\n                },this.tipKnowledgePopUpHuanDongTime*1.5)\r\n\r\n                if(count == this.tipKnowledgePopUpHuanDongCiShu)  //最后一次执行\r\n                {\r\n                    button.interactable = false;\r\n                }\r\n            },3*this.tipKnowledgePopUpHuanDongTime,this.tipKnowledgePopUpHuanDongCiShu,0);\r\n\r\n\r\n        },this);\r\n    }\r\n    // update (dt) {},\r\n});\r\n"]}